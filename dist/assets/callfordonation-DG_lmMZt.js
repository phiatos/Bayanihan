import"./global-Dd8t204S.js";/* empty css                *//* empty css               */document.addEventListener("DOMContentLoaded",()=>{const oe={apiKey:"AIzaSyDJxMv8GCaMvQT2QBW3CdzA3dV5X_T2KqQ",authDomain:"bayanihan-5ce7e.firebaseapp.com",databaseURL:"https://bayanihan-5ce7e-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"bayanihan-5ce7e",storageBucket:"bayanihan-5ce7e.appspot.com",messagingSenderId:"593123849917",appId:"1:593123849917:web:eb85a63a536eeff78ce9d4",measurementId:"G-ZTQ9VXXVV0"};firebase.initializeApp(oe);const K=localStorage.getItem("userRole"),h=document.getElementById("form-container-1"),J=document.querySelector("#donationTable tbody"),R=document.getElementById("searchInput"),M=document.getElementById("sortSelect"),ae=document.getElementById("exportBtn"),re=document.getElementById("savePdfBtn"),G=document.getElementById("exportCsvButton"),Q=document.getElementById("entriesInfo"),j=document.getElementById("pagination"),ie=document.getElementById("clearFormBtn"),Z=document.getElementById("nextBtn"),E=document.getElementById("region"),p=document.getElementById("province"),f=document.getElementById("city"),u=document.getElementById("barangay"),$=document.getElementById("region-text"),P=document.getElementById("province-text"),v=document.getElementById("city-text"),g=document.getElementById("barangay-text"),H=10;let L=1,V=[],D=[],O=!1;h&&(h.addEventListener("input",()=>{O=!0}),h.addEventListener("change",()=>{O=!0}));const X="../json/";firebase.database().ref("callfordonation").on("value",n=>{const o=n.val();V=[],o&&Object.entries(o).forEach(([t,e])=>{V.push({...e,firebaseKey:t})}),te()},n=>{console.error("Error fetching donations from Firebase:",n),Swal.fire("Error","Failed to load donations from the database.","error")});var F={fill_regions:function(){$&&($.value=""),P&&(P.value=""),v&&(v.value=""),g&&(g.value=""),E.innerHTML='<option value="" selected="true" disabled>Choose Region</option>',E.selectedIndex=0,p.innerHTML='<option value="" selected="true" disabled>Choose Region First</option>',p.selectedIndex=0,f.innerHTML='<option value="" selected="true" disabled>Choose Region First</option>',f.selectedIndex=0,u.innerHTML='<option value="" selected="true" disabled>Choose Region First</option>',u.selectedIndex=0;const n=`${X}region.json`;console.log(`Fetching regions from: ${n}`),fetch(n).then(o=>{if(!o.ok)throw new Error(`HTTP error! Status: ${o.status} - ${o.statusText}`);return o.json()}).then(o=>{if(console.log("Region data loaded (Vanilla JS):",o),!Array.isArray(o)||!o.every(t=>t.region_code&&t.region_name))throw new Error("Invalid region data structure");o.sort(function(t,e){return t.region_name.localeCompare(e.region_name)}),o.forEach(t=>{const e=document.createElement("option");e.value=t.region_code,e.textContent=t.region_name,E.appendChild(e)})}).catch(o=>{console.error("Request for region.json Failed (Vanilla JS): "+o.message),console.error("Fetch error object: ",o),Swal.fire({icon:"error",title:"Failed to Load Regions",text:`Unable to load region data: ${o.message}. Check if ${n} is accessible.`,confirmButtonText:"OK"})})},fill_provinces:function(){var n=E.value;if(!n){Swal.fire({icon:"warning",title:"Select Region First",text:"Please select a region before choosing a province.",confirmButtonText:"OK"}),p.innerHTML='<option value="" selected="true" disabled>Choose Province</option>',p.selectedIndex=0,f.innerHTML='<option value="" selected="true" disabled>Choose State First</option>',f.selectedIndex=0,u.innerHTML='<option value="" selected="true" disabled>Choose Barangay</option>',u.selectedIndex=0,P&&(P.value=""),v&&(v.value=""),g&&(g.value="");return}var o=E.options[E.selectedIndex].textContent;$&&($.value=o),P&&(P.value=""),v&&(v.value=""),g&&(g.value=""),p.innerHTML='<option value="" selected="true" disabled>Choose Province</option>',p.selectedIndex=0,f.innerHTML='<option value="" selected="true" disabled>Choose Province First</option>',f.selectedIndex=0,u.innerHTML='<option value="" selected="true" disabled>Choose Province First</option>',u.selectedIndex=0;const t=`${X}province.json`;console.log(`Fetching provinces from: ${t}`),fetch(t).then(e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status} - ${e.statusText}`);return e.json()}).then(e=>{if(console.log("Province data loaded (Vanilla JS):",e),!Array.isArray(e)||!e.every(a=>a.region_code&&a.province_code&&a.province_name))throw new Error("Invalid province data structure");var s=e.filter(function(a){return a.region_code==n});s.sort(function(a,i){return a.province_name.localeCompare(i.province_name)}),s.forEach(a=>{const i=document.createElement("option");i.value=a.province_code,i.textContent=a.province_name,p.appendChild(i)})}).catch(e=>{console.error("Request for province.json Failed (Vanilla JS): "+e.message),console.error("Fetch error object: ",e),Swal.fire({icon:"error",title:"Failed to Load Provinces",text:`Unable to load province data: ${e.message}. Check if ${t} is accessible.`,confirmButtonText:"OK"})})},fill_cities:function(){var n=p.value;if(!n){Swal.fire({icon:"warning",title:"Select Province First",text:"Please select a province before choosing a city/municipality.",confirmButtonText:"OK"}),f.innerHTML='<option value="" selected="true" disabled>Choose City / Municipality</option>',f.selectedIndex=0,u.innerHTML='<option value="" selected="true" disabled>Choose Barangay</option>',u.selectedIndex=0,v&&(v.value=""),g&&(g.value="");return}var o=p.options[p.selectedIndex].textContent;P&&(P.value=o),v&&(v.value=""),g&&(g.value=""),f.innerHTML='<option value="" selected="true" disabled>Choose City / Municipality</option>',f.selectedIndex=0,u.innerHTML='<option value="" selected="true" disabled>Choose City First</option>',u.selectedIndex=0;const t=`${X}city.json`;console.log(`Fetching cities from: ${t}`),fetch(t).then(e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status} - ${e.statusText}`);return e.json()}).then(e=>{if(console.log("City data loaded (Vanilla JS):",e),!Array.isArray(e)||!e.every(a=>a.province_code&&a.city_code&&a.city_name))throw new Error("Invalid city data structure");var s=e.filter(function(a){return a.province_code==n});s.sort(function(a,i){return a.city_name.localeCompare(i.city_name)}),s.forEach(a=>{const i=document.createElement("option");i.value=a.city_code,i.textContent=a.city_name,f.appendChild(i)})}).catch(e=>{console.error("Request for city.json Failed (Vanilla JS): "+e.message),console.error("Fetch error object: ",e),Swal.fire({icon:"error",title:"Failed to Load Cities",text:`Unable to load city data: ${e.message}. Check if ${t} is accessible.`,confirmButtonText:"OK"})})},fill_barangays:function(){var n=f.value;if(!n){Swal.fire({icon:"warning",title:"Select City/Municipality First",text:"Please select a city/municipality before choosing a barangay.",confirmButtonText:"OK"}),u.innerHTML='<option value="" selected="true" disabled>Choose barangay</option>',u.selectedIndex=0,g&&(g.value="");return}var o=f.options[f.selectedIndex].textContent;v&&(v.value=o),g&&(g.value=""),u.innerHTML='<option value="" selected="true" disabled>Choose barangay</option>',u.selectedIndex=0;const t=`${X}barangay.json`;console.log(`Fetching barangays from: ${t}`),fetch(t).then(e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status} - ${e.statusText}`);return e.json()}).then(e=>{if(console.log("Barangay data loaded (Vanilla JS):",e),!Array.isArray(e)||!e.every(a=>a.city_code&&a.brgy_code&&a.brgy_name))throw new Error("Invalid barangay data structure");var s=e.filter(function(a){return a.city_code==n});s.sort(function(a,i){return a.brgy_name.localeCompare(i.brgy_name)}),s.forEach(a=>{const i=document.createElement("option");i.value=a.brgy_code,i.textContent=a.brgy_name,u.appendChild(i)})}).catch(e=>{console.error("Request for barangay.json Failed (Vanilla JS): "+e.message),console.error("Fetch error object: ",e),Swal.fire({icon:"error",title:"Failed to Load Barangays",text:`Unable to load barangay data: ${e.message}. Check if ${t} is accessible.`,confirmButtonText:"OK"})})},onchange_barangay:function(){var n=u.options[u.selectedIndex].textContent;g&&(g.value=n)}};function se(){G&&(K==="ABVN"?G.style.display="none":G.style.display="block")}function ee(){const n=document.querySelectorAll(".deleteBtn");K==="ABVN"?n.forEach(o=>{o.style.display="none"}):n.forEach(o=>{o.style.display="inline-block"})}E&&E.addEventListener("change",F.fill_provinces),p&&p.addEventListener("change",F.fill_cities),f&&f.addEventListener("change",F.fill_barangays),u&&u.addEventListener("change",F.onchange_barangay),F.fill_regions(),R==null||R.addEventListener("input",ne),M==null||M.addEventListener("change",()=>{if(M.value===""){Swal.fire({icon:"warning",title:"No Sort Option Selected",text:"Please select a specific sort option from the dropdown.",confirmButtonText:"OK"});return}ne()});function te(){D=[...V],L=1,W()}function ne(){let n=[...V];const o=R.value.trim().toLowerCase();o&&(n=n.filter(e=>{var s,a,i,c,l;return(e.donationDrive||"").toLowerCase().includes(o)||(((s=e.contact)==null?void 0:s.person)||"").toLowerCase().includes(o)||(((a=e.contact)==null?void 0:a.number)||"").toLowerCase().includes(o)||(((i=e.account)==null?void 0:i.number)||"").toLowerCase().includes(o)||(((c=e.account)==null?void 0:c.name)||"").toLowerCase().includes(o)||(((l=e.address)==null?void 0:l.fullAddress)||e.dropOff||"").toLowerCase().includes(o)||(e.facebookLink||"").toLowerCase().includes(o)}));const t=M.value;if(t){const[e,s]=t.split("-");n.sort((a,i)=>{var r,m,w,y,x,I;let c,l;return e==="dropOff"?(c=(((r=a.address)==null?void 0:r.fullAddress)||a.dropOff||"").toLowerCase(),l=(((m=i.address)==null?void 0:m.fullAddress)||i.dropOff||"").toLowerCase()):e==="contactPerson"?(c=(((w=a.contact)==null?void 0:w.person)||a[e]||"").toString().toLowerCase(),l=(((y=i.contact)==null?void 0:y.person)||i[e]||"").toString().toLowerCase()):e==="accountName"?(c=(((x=a.account)==null?void 0:x.name)||a[e]||"").toString().toLowerCase(),l=(((I=i.account)==null?void 0:I.name)||i[e]||"").toString().toLowerCase()):(c=(a[e]||"").toString().toLowerCase(),l=(i[e]||"").toString().toLowerCase()),s==="asc"?c.localeCompare(l):l.localeCompare(c)})}D=n,L=1,W()}ie.addEventListener("click",()=>{O?Swal.fire({title:"Discard Changes?",text:"You have unsaved changes. Are you sure you want to clear the form?",icon:"warning",iconColor:"#f57c00",showCancelButton:!0,confirmButtonColor:"#c62828",cancelButtonColor:"#546e7a",confirmButtonText:"Yes, clear it!",cancelButtonText:"No, keep editing",reverseButtons:!0,customClass:{popup:"swal2-popup-warning-clean",title:"swal2-title-warning-clean",content:"swal2-text-warning-clean",confirmButton:"swal2-button-confirm-clean",cancelButton:"swal2-button-cancel-clean"}}).then(n=>{n.isConfirmed&&(h&&(Array.from(h.querySelectorAll("input, select, textarea")).forEach(e=>{e.type==="file"?e.value="":e.tagName==="SELECT"?e.selectedIndex=0:e.value=""}),F.fill_regions()),O=!1,(h?h.querySelectorAll(".error-message"):[]).forEach(e=>e.textContent=""),(h?h.querySelectorAll(".error"):[]).forEach(e=>e.classList.remove("error")))}):(h&&(Array.from(h.querySelectorAll("input, select, textarea")).forEach(t=>{t.type==="file"?t.value="":t.tagName==="SELECT"?t.selectedIndex=0:t.value=""}),F.fill_regions()),(h?h.querySelectorAll(".error-message"):[]).forEach(t=>t.textContent=""),(h?h.querySelectorAll(".error"):[]).forEach(t=>t.classList.remove("error")))});function W(){const n=(L-1)*H,o=n+H,t=D.slice(n,o);if(J.innerHTML="",t.length===0){const e=document.createElement("tr");e.innerHTML='<td colspan="9" style="text-align: center;">No donations found.</td>',J.appendChild(e)}else t.forEach((e,s)=>{var i,c,l,r,m;const a=document.createElement("tr");a.innerHTML=`
                    <td>${n+s+1}</td>
                    <td>${e.donationDrive||"N/A"}</td>
                    <td>${((i=e.contact)==null?void 0:i.person)||"N/A"}</td>
                    <td>${String(((c=e.contact)==null?void 0:c.number)||"N/A")}</td>
                    <td>${String(((l=e.account)==null?void 0:l.number)||"N/A")}</td>
                    <td>${((r=e.account)==null?void 0:r.name)||"N/A"}</td>
                    <td>${((m=e.address)==null?void 0:m.fullAddress)||e.dropOff||"N/A"}</td>
                    <td><a href="${e.facebookLink||"#"}" target="_blank" rel="noopener noreferrer">${e.facebookLink&&e.facebookLink!=="N/A"?"Visit The Page":"N/A"}</a></td>
                    <td>
                        <button class="viewBtn">View Image</button>
                        <button class="deleteBtn">Remove</button>
                        <button class="savePDFBtn">Save PDF</button>
                    </td>
                `,a.querySelector(".viewBtn").addEventListener("click",()=>{Swal.fire({html:e!=null&&e.image?`<img src="${e.image}" alt="Donation Image" style="max-width: 100%; margin-top: 10px;" />`:"No image available.",icon:"info",confirmButtonText:"Close"})}),a.querySelector(".deleteBtn").addEventListener("click",()=>{Swal.fire({title:"Are you sure?",text:"This donation will be deleted.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(w=>{w.isConfirmed&&firebase.database().ref(`callfordonation/${e.firebaseKey}`).remove().then(()=>{Swal.fire("Deleted!","The donation has been removed.","success")}).catch(y=>{console.error("Error deleting donation:",y),Swal.fire("Error","Failed to delete the donation.","error")})})}),a.querySelector(".savePDFBtn").addEventListener("click",()=>de(e)),J.appendChild(a)});ce(),le(),ee()}function ce(){const n=D.length,o=(L-1)*H+1,t=Math.min(L*H,n);Q.textContent=`Showing ${o} to ${t} of ${n} entries`,n===0&&(Q.textContent="Showing 0 to 0 of 0 entries")}const Y=(n,o,t=!1,e=!1)=>{const s=document.createElement("button");return s.textContent=n,t&&(s.disabled=!0),e&&s.classList.add("active-page"),s.addEventListener("click",()=>{t||(L=o,W())}),s};function le(){j.innerHTML="";const n=Math.ceil(D.length/H);if(n===0){j.innerHTML="<span>No entries to display</span>";return}j.appendChild(Y("Prev",Math.max(1,L-1),L===1));const o=5;let t=Math.max(1,L-Math.floor(o/2)),e=Math.min(n,t+o-1);e-t<o-1&&(t=Math.max(1,e-o+1));for(let s=t;s<=e;s++)j.appendChild(Y(s,s,!1,s===L));j.appendChild(Y("Next",Math.min(n,L+1),L===n))}Z&&Z.addEventListener("click",n=>{var I,A,d,B,S,C,b,T,k,N,_,q;n.preventDefault();const o=(I=document.getElementById("donationDrive"))==null?void 0:I.value.trim(),t=(A=document.getElementById("contactPerson"))==null?void 0:A.value.trim(),e=(d=document.getElementById("contactNumber"))==null?void 0:d.value.trim(),s=(B=document.getElementById("accountNumber"))==null?void 0:B.value.trim(),a=(S=document.getElementById("accountName"))==null?void 0:S.value.trim(),i=((C=E==null?void 0:E.options[E.selectedIndex])==null?void 0:C.textContent)||"",c=((b=p==null?void 0:p.options[p.selectedIndex])==null?void 0:b.textContent)||"",l=((T=f==null?void 0:f.options[f.selectedIndex])==null?void 0:T.textContent)||"",r=((k=u==null?void 0:u.options[u.selectedIndex])==null?void 0:k.textContent)||"",m=(N=document.getElementById("address"))==null?void 0:N.value.trim(),w=(_=document.getElementById("facebookLink"))==null?void 0:_.value.trim(),y=(q=document.getElementById("donationImage"))==null?void 0:q.files[0];if(!o||!t||!e||!s||!a||!i||!c||!l||!r||!m){Swal.fire("Error","Please fill in all required fields, including the full address (Region, Province, City, Barangay, and Address).","error");return}function x(z){const U={donationId:`DONATION-${Math.floor(100+Math.random()*900)}`,dateTime:new Date().toISOString(),donationDrive:o,contact:{person:t,number:e},account:{number:s,name:a},address:{region:i,province:c,city:l,barangay:r,street:m,fullAddress:`${m}, ${r}, ${l}, ${c}, ${i}`},facebookLink:w||"N/A",image:z||"",status:"Pending",userRole:K||"default",timestamp:Date.now()};firebase.database().ref("callfordonation").push(U).then(()=>{document.getElementById("donationDrive").value="",document.getElementById("contactPerson").value="",document.getElementById("contactNumber").value="",document.getElementById("accountNumber").value="",document.getElementById("accountName").value="",F.fill_regions(),document.getElementById("address").value="",document.getElementById("facebookLink").value="",document.getElementById("donationImage").value="",$&&($.value=""),P&&(P.value=""),v&&(v.value=""),g&&(g.value=""),O=!1,Swal.fire("Success","Donation added successfully!","success")}).catch(ue=>{console.error("Error saving donation to Firebase:",ue),Swal.fire("Error","Failed to save the donation.","error")})}if(y){const z=new FileReader;z.onload=function(U){x(U.target.result)},z.readAsDataURL(y)}else x("")}),ae.addEventListener("click",()=>{if(D.length===0){Swal.fire("Info","No data to export!","info");return}const n=D.map((r,m)=>{var w,y,x,I,A,d,B,S,C,b;return{"No.":m+1,"Donation Drive":r.donationDrive||"","Contact Person":((w=r.contact)==null?void 0:w.person)||"","Contact Number":String(((y=r.contact)==null?void 0:y.number)||""),"Account Number":String(((x=r.account)==null?void 0:x.number)||""),"Account Name":((I=r.account)==null?void 0:I.name)||"",Region:((A=r.address)==null?void 0:A.region)||"",Province:((d=r.address)==null?void 0:d.province)||"","City/Municipality":((B=r.address)==null?void 0:B.city)||"",Barangay:((S=r.address)==null?void 0:S.barangay)||"","Street Address":((C=r.address)==null?void 0:C.street)||"","Full Address":((b=r.address)==null?void 0:b.fullAddress)||r.dropOff||"","Facebook Link":r.facebookLink&&r.facebookLink!=="N/A"?r.facebookLink:"N/A",Status:r.status||"","Submitted Date/Time":new Date(r.dateTime).toLocaleString()||""}});if(typeof XLSX>"u"){Swal.fire("Error","XLSX library not loaded. Please ensure `xlsx.full.min.js` is included in your HTML.","error"),console.error("XLSX library is not loaded.");return}const o=XLSX.utils.json_to_sheet(n),t=XLSX.utils.book_new();XLSX.utils.book_append_sheet(t,o,"Call for Donations");const e=new Date,s=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),l=`call-for-donations_${`${s}-${a}-${i}`}.xlsx`;XLSX.writeFile(t,l),Swal.fire("Success",`Call for Donations data exported to ${l}!`,"success")}),re.addEventListener("click",()=>{if(D.length===0){Swal.fire("Info","No data to export to PDF!","info");return}if(typeof window.jspdf>"u"||typeof window.jspdf.jsPDF>"u"){Swal.fire("Error","jsPDF library not loaded. Please ensure `jspdf.umd.min.js` and `jspdf.autotable.min.js` are included in your HTML.","error"),console.error("jsPDF library is not loaded.");return}const{jsPDF:n}=window.jspdf,o=new n("landscape");let t=20;const e=new Image;e.src="../assets/images/AB_logo.png",Swal.fire({title:"Generating PDF...",text:"Please wait while your PDF is being created.",allowOutsideClick:!1,didOpen:()=>{Swal.showLoading()}}),e.onload=function(){const s=o.internal.pageSize.width,a=30,i=e.naturalHeight/e.naturalWidth*a,c=14;o.addImage(e,"PNG",s-a-c,c,a,i),o.setFontSize(18),o.text("Call for Donations Report",14,t),t+=10,o.setFontSize(10),o.text(`Report Generated: ${new Date().toLocaleString()}`,14,t),t+=15;const l=[["No.","Donation Drive","Contact Person","Contact Number","Account Number","Account Name","Full Address","Facebook Link","Status","Submission Date/Time"]],r=D.map((d,B)=>{var S,C,b,T,k;return[B+1,d.donationDrive||"N/A",((S=d.contact)==null?void 0:S.person)||"N/A",String(((C=d.contact)==null?void 0:C.number)||"N/A"),String(((b=d.account)==null?void 0:b.number)||"N/A"),((T=d.account)==null?void 0:T.name)||"N/A",((k=d.address)==null?void 0:k.fullAddress)||d.dropOff||"N/A",d.facebookLink&&d.facebookLink!=="N/A"?d.facebookLink:"N/A",d.status||"N/A",new Date(d.dateTime).toLocaleString()||"N/A"]});o.autoTable({head:l,body:r,startY:t,theme:"grid",headStyles:{fillColor:[20,174,187],textColor:[255,255,255],halign:"center"},styles:{fontSize:8,cellPadding:2},didDrawPage:function(d){o.setFontSize(8);const B=`Page ${d.pageNumber} of ${o.internal.getNumberOfPages()}`,S="Powered by: Appvance",C=o.internal.pageSize.width,b=d.settings.margin.left,T=o.internal.pageSize.height-10;o.text(B,b,T),o.text(S,C-b,T,{align:"right"})}});const m=new Date,w=m.getFullYear(),y=String(m.getMonth()+1).padStart(2,"0"),x=String(m.getDate()).padStart(2,"0"),A=`call-for-donations_${`${w}-${y}-${x}`}.pdf`;o.save(A),Swal.close(),Swal.fire("Success",`Call for Donations data exported to "${A}"`,"success")},e.onerror=function(){Swal.close(),Swal.fire("Error","Failed to load logo image. Please check the path.","error")}});function de(n){const{jsPDF:o}=window.jspdf,t=new o;Swal.fire({title:"Generating PDF...",text:"Please wait while your PDF is being created.",allowOutsideClick:!1,didOpen:()=>{Swal.showLoading()}});const e=new Image;e.src="../assets/images/AB_logo.png",e.onload=function(){var x,I,A,d,B,S,C,b,T,k;const s=t.internal.pageSize.width,a=30,i=e.naturalHeight/e.naturalWidth*a,c=14;t.addImage(e,"PNG",s-a-c,c,a,i),t.setFontSize(18),t.text("Call for Donation Details",c,22),t.setFontSize(10),t.text(`Report Generated: ${new Date().toLocaleString()}`,c,30);let l=45;const r=(N,_)=>{t.text(`${N}: ${_||"N/A"}`,c,l),l+=7};if(r("Donation Drive",n.donationDrive),r("Contact Person",(x=n.contact)==null?void 0:x.person),r("Contact Number",String(((I=n.contact)==null?void 0:I.number)||"N/A")),r("Account Number",String(((A=n.account)==null?void 0:A.number)||"N/A")),r("Account Name",(d=n.account)==null?void 0:d.name),r("Region",(B=n.address)==null?void 0:B.region),r("Province",(S=n.address)==null?void 0:S.province),r("City/Municipality",(C=n.address)==null?void 0:C.city),r("Barangay",(b=n.address)==null?void 0:b.barangay),r("Street Address",(T=n.address)==null?void 0:T.street),r("Full Address",((k=n.address)==null?void 0:k.fullAddress)||n.dropOff),r("Facebook Link",n.facebookLink&&n.facebookLink!=="N/A"?n.facebookLink:"N/A"),r("Status",n.status),r("Submitted Date/Time",new Date(n.dateTime).toLocaleString()),n.image){l+=10;const N=80,_=N/e.naturalWidth*e.naturalHeight,q=c;l+_>t.internal.pageSize.height-c&&(t.addPage(),l=c),t.text("Attached Image:",c,l),l+=5,t.addImage(n.image,"JPEG",q,l,N,_)}t.setFontSize(8);const m=t.internal.pageSize.height-10,w="Page 1 of 1",y="Powered by: Appvance";t.text(w,c,m),t.text(y,s-c,m,{align:"right"}),t.save(`cfd_donation_${new Date().toISOString().slice(0,10)}.pdf`),Swal.close(),Swal.fire({title:"Export Successful!",text:`Donation details for "${n.donationDrive}" have been exported to PDF.`,icon:"success",color:"#1b5e20",iconColor:"#43a047",confirmButtonColor:"#388e3c",confirmButtonText:"Great!",customClass:{popup:"swal2-popup-success-export",title:"swal2-title-success-export",content:"swal2-text-success-export",confirmButton:"swal2-button-success-export"}})},e.onerror=function(){Swal.close(),Swal.fire("Error","Failed to load logo image. Please check the path.","error")}}se(),ee(),te()});
